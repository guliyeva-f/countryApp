<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="../src/output.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap');

        * {
            /* outline: 1px solid yellow; */
            font-family: "Josefin Sans", sans-serif;
        }
    </style>
</head>

<body class="h-screen w-screen overflow-hidden bg-gray-900 text-white">
    <div id="details" class="relative h-screen w-screen"></div>
    <script src="../assets/js/data.js"></script>

    <script>
        const details = document.getElementById('details')
        const qParams = location.search
        const alphaCode = new URLSearchParams(qParams).get("alpha")
        const country = data.find(item => item.alpha3Code == alphaCode)
        details.innerHTML = `<div class="absolute inset-0">
                                <img src="${country.flag || ''}" alt="" class="w-full h-full object-cover">
                                <div class="absolute inset-0 bg-gradient-to-br from-black/90 via-black/60 to-black/30"></div>
                            </div>
                            <div class="relative z-10 flex h-full p-8 gap-8 items-center">
                                <div class="w-[35%] flex flex-col justify-center pl-6">
                                    <h1 class="text-[40px] font-bold mb-2">
                                        ${country.name || 'Məlumat yoxdur'} 
                                        ${country.alpha2Code ? `(${country.alpha2Code})` : ''}
                                    </h1>
                                    <h2 class="text-[24px] text-gray-300 mb-8">
                                        ${country.nativeName || 'Məlumat yoxdur'} · ${country.capital || 'Məlumat yoxdur'}
                                    </h2>
                                    <div class="grid grid-cols-2 gap-6">
                                        ${statBox(country.population?.toLocaleString(), "Əhali")}
                                        ${statBox(country.area ? country.area.toLocaleString() + ' km²' : '', "Ərazi")}
                                        ${statBox(country.region, "Qitə")}
                                        ${statBox(country.subregion, "Subregion")}
                                    </div>
                                </div>
                                <div class="w-[65%] grid grid-cols-2 gap-4 content-start">
                                    ${infoCard("Domen", country.topLevelDomain?.join(', '))}
                                    ${infoCard("Telefon Kodu", country.callingCodes?.map(c => '+' + c).join(', '))}
                                    ${infoCard("Alpha Kodlar", `${country.alpha2Code || ''} ${country.alpha3Code ? '· ' + country.alpha3Code : ''}`)}
                                    ${infoCard("Rəqəm / CIOC", `${country.numericCode || ''} ${country.cioc ? '· ' + country.cioc : ''}`)}
                                    ${infoCard("Dillər", country.languages?.map(l => `${l.name} (${l.nativeName})`).join(', '))}
                                    ${infoCard("Pul Vahidi", country.currencies?.map(c => `${c.name} (${c.code}${c.symbol ? ' - ' + c.symbol : ''})`).join(', '))}
                                    ${infoCard("Saat Qurşağı", country.timezones?.join(', '))}
                                    ${infoCard("Sərhədlər", country.borders?.join(', '))}
                                    ${infoCard("Regional Təşkilat", country.regionalBlocs?.map(b => `${b.acronym} - ${b.name}`).join(', '))}
                                    ${infoCard("Müstəqillik", country.independent === true ? '✅ Var' : country.independent === false ? '❌ Yoxdur' : '')}
                                    ${infoCard("Milliyyət", country.demonym)}
                                    ${infoCard("Alternativ Adlar", country.altSpellings?.join(', '))}
                                    ${infoCard("Koordinatlar", country.latlng?.length === 2 ? `${country.latlng[0]}° N, ${country.latlng[1]}° E` : '')}
                                    ${infoCard("Tərcümələr", country.translations ? Object.entries(country.translations).map(([k, v]) => `${k.toUpperCase()}: ${v}`).join(' · ') : '')}
                                </div>
                            </div>
                            `;

        function statBox(value, label) {
            return `<div>
                        <p class="text-3xl font-bold">${value || 'Məlumat yoxdur'}</p>
                        <p class="text-gray-300">${label}</p>
                    </div>`;
        }

        function infoCard(title, value) {
            return `<div class="bg-white/80 backdrop-blur-md rounded-xl shadow p-[10px_20px] flex flex-col gap-[5px] justify-center">
                        <h4 class="text-gray-800 text-sm font-semibold">${title}</h4>
                        <p class="text-black text-[16px]">${value || 'Məlumat yoxdur'}</p>
                    </div>`;
        }
    </script>
</body>

</html>